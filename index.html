<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Controle Financeiro</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <div id="login-page">
        <div class="login-container">
            <h1>Controle Financeiro</h1>
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="register">Registro</button>
            </div>
            
            <form id="login-form" class="auth-form">
                <div class="input-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="input-group">
                    <label for="login-password">Senha</label>
                    <input type="password" id="login-password" required>
                </div>
                <button type="submit" class="btn-primary">Entrar</button>
            </form>

            <form id="register-form" class="auth-form hidden">
                <div class="input-group">
                    <label for="register-email">Email</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="input-group">
                    <label for="register-password">Senha</label>
                    <input type="password" id="register-password" required>
                </div>
                <div class="input-group">
                    <label for="register-password-confirm">Confirmar Senha</label>
                    <input type="password" id="register-password-confirm" required>
                </div>
                <button type="submit" class="btn-primary">Registrar</button>
            </form>
        </div>
    </div>

    <div id="app-container" class="hidden">
  <div class="container">
        <header>
            <h1>Controle Financeiro</h1>
            <nav>
                <button class="nav-btn active" id="btn-main">Principal</button>
                <button class="nav-btn" id="btn-relatorio">Relat√≥rio Mensal</button>
                <button class="nav-btn" id="btn-salvar-historico" title="Salvar Hist√≥rico">üíæ</button>
                <button class="nav-btn" id="inicio-calc-btn" title="Configurar In√≠cio dos C√°lculos">
                    ‚öô
                </button>
            </nav>
        </header>

        <main id="main-page">
            <div class="cards-container">
                <!-- Card de Receitas -->
                <div class="card receitas">
                    <h2>Adicionar Receita</h2>
                    <form id="form-receita">
                        <div class="input-group">
                            <label for="valor-receita">Valor</label>
                            <input type="number" id="valor-receita" step="0.01" placeholder="R$ 0,00" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="data-receita">Data</label>
                            <input type="date" id="data-receita" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="desc-receita">Descri√ß√£o</label>
                            <input type="text" id="desc-receita" placeholder="Descri√ß√£o da receita">
                        </div>
                        
                        <button type="submit" class="btn-salvar">Adicionar Receita</button>
                    </form>
                </div>

                <!-- Card de Despesas -->
                <div class="card despesas">
                    <h2>Adicionar Despesa</h2>
                    <form id="form-despesa">
                        <div class="input-group">
                            <label for="valor-despesa">Valor</label>
                            <input type="number" id="valor-despesa" step="0.01" placeholder="R$ 0,00" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="data-despesa">Data</label>
                            <input type="date" id="data-despesa" required>
                        </div>
                        
                        <div class="input-group">
                            <label for="desc-despesa">Descri√ß√£o</label>
                            <input type="text" id="desc-despesa" placeholder="Descri√ß√£o da despesa">
                        </div>

                        <div class="input-group checkbox-container">
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="radio" id="despesa-fixa" name="tipo-despesa" value="fixa">
                                    Despesa Fixa
                                </label>
                            </div>
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="radio" id="despesa-diaria" name="tipo-despesa" value="diaria" checked>
                                    Despesa Di√°ria
                                </label>
                            </div>
                        </div>

                        <!-- Novo campo para parcelas -->
                        <div class="input-group" id="parcelas-container" style="display: none;">
                            <label for="num-parcelas">N√∫mero de Parcelas</label>
                            <input type="number" id="num-parcelas" min="1" max="48" value="1" placeholder="Ex: 12">
                            <small class="helper-text">M√°ximo de 48 parcelas</small>
                        </div>
                        
                        <button type="submit" class="btn-salvar">Adicionar Despesa</button>
                    </form>
                </div>

                <!-- Adicionar um novo card separado para M√∫ltiplas Despesas -->
                <div class="card multiple-expenses" id="card-multiple-expenses">
                    <h2>Adicionar M√∫ltiplas Despesas</h2>
                    <div class="expenses-list" id="expenses-list">
                        <!-- Despesas ser√£o adicionadas aqui dinamicamente -->
                    </div>
                    <button type="button" class="btn-add-expense">+ Adicionar Despesa</button>
                    <button type="button" class="btn-salvar" id="btn-save-multiple">Salvar Todas</button>
                </div>
            </div>
        </main>

        <div id="relatorio-page" class="hidden">
            <div class="relatorio-container">
                <div class="mes-selector">
                    <select id="ano-select"></select>
                </div>
                <div class="meses-grid">
                    <div class="mes-card" data-mes="1">Janeiro</div>
                    <div class="mes-card" data-mes="2">Fevereiro</div>
                    <div class="mes-card" data-mes="3">Mar√ßo</div>
                    <div class="mes-card" data-mes="4">Abril</div>
                    <div class="mes-card" data-mes="5">Maio</div>
                    <div class="mes-card" data-mes="6">Junho</div>
                    <div class="mes-card" data-mes="7">Julho</div>
                    <div class="mes-card" data-mes="8">Agosto</div>
                    <div class="mes-card" data-mes="9">Setembro</div>
                    <div class="mes-card" data-mes="10">Outubro</div>
                    <div class="mes-card" data-mes="11">Novembro</div>
                    <div class="mes-card" data-mes="12">Dezembro</div>
                </div>
                <div class="tabela-container">
                    <table id="tabela-financeira">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Entrada</th>
                                <th>Sa√≠da</th>
                                <th>Di√°rio</th>
                                <th>Saldo</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-body">
                            <!-- Linhas ser√£o geradas via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="historico-page" class="hidden">
            <div class="relatorio-container">
                <h2>Hist√≥rico de Transa√ß√µes</h2>
                <div class="tabela-container">
                    <table id="tabela-historico">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Tipo</th>
                                <th>Valor</th>
                                <th>Descri√ß√£o</th>
                                <th>Categoria</th>
                                <th>A√ß√µes</th>
                            </tr>
                        </thead>
                        <tbody id="historico-body">
                            <!-- Linhas ser√£o geradas via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup do painel de configura√ß√£o do In√≠cio dos C√°lculos -->
    <div id="inicio-calc-panel" class="config-panel">
        <div class="card config-salarial">
            <h2>Configurar In√≠cio dos C√°lculos</h2>
            <form id="form-inicio">
                <div class="input-group">
                    <label for="inicio-mes">M√™s Inicial</label>
                    <select id="inicio-mes">
                        <option value="1">Janeiro</option>
                        <option value="2">Fevereiro</option>
                        <option value="3">Mar√ßo</option>
                        <option value="4">Abril</option>
                        <option value="5">Maio</option>
                        <option value="6">Junho</option>
                        <option value="7">Julho</option>
                        <option value="8">Agosto</option>
                        <option value="9">Setembro</option>
                        <option value="10">Outubro</option>
                        <option value="11">Novembro</option>
                        <option value="12">Dezembro</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="inicio-ano">Ano Inicial</label>
                    <input type="number" id="inicio-ano" min="2000" placeholder="2023" required>
                </div>
                <button type="submit" class="btn-salvar">Salvar In√≠cio</button>
            </form>
        </div>
    </div>

    <!-- Bot√£o flutuante e painel de configura√ß√£o -->
    <button id="config-button" class="floating-button">
        <span class="dollar-sign">$</span>
    </button>
    
    <div id="config-panel" class="config-panel">
        <div class="card config-salarial">
            <h2>Configura√ß√£o Salarial</h2>
            <form id="form-salario">
                <div class="input-group">
                    <label for="valor-salario">Sal√°rio Base</label>
                    <input type="number" id="valor-salario" step="0.01" placeholder="R$ 0,00" required>
                </div>
                
                <div class="input-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="tem-adiantamento">
                        Recebe Adiantamento
                    </label>
                </div>
                
                <div class="input-group dia-salario-√∫nico">
                    <label for="dia-salario">Dia do Recebimento</label>
                    <input type="number" id="dia-salario" min="1" max="31" placeholder="5">
                </div>

                <div id="config-adiantamento" class="hidden">
                    <div class="input-group">
                        <label for="porcentagem-adiantamento">Porcentagem do Adiantamento</label>
                        <input 
                            type="text" 
                            id="porcentagem-adiantamento" 
                            pattern="^[0-9]+([,.][0-9]+)?$"
                            placeholder="40"
                            value="40"
                        >
                        <span class="porcentagem-simbolo">%</span>
                    </div>
                    
                    <div class="input-group">
                        <label for="dia-adiantamento">Dia do Adiantamento</label>
                        <input type="number" id="dia-adiantamento" min="1" max="31" placeholder="15">
                    </div>
                    
                    <div class="input-group">
                        <label for="dia-pagamento">Dia do Pagamento</label>
                        <input type="number" id="dia-pagamento" min="1" max="31" placeholder="30">
                    </div>
                </div>
                
                <!-- NOVO: Se quer investir -->
                <div class="input-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="quer-investir">
                        Quero Investir
                    </label>
                </div>
                <!-- Bloco de campos de investimento, oculto por padr√£o -->
                <div id="config-investimento" class="hidden">
                    <div class="input-group">
                        <label for="invest-porcentagem">Investir (% do sal√°rio):</label>
                        <input type="number" id="invest-porcentagem" min="0" max="100" placeholder="Ex: 10">
                    </div>
                    <div class="input-group">
                        <label for="invest-manual">Investir (valor fixo):</label>
                        <input type="number" id="invest-manual" min="0" step="0.01" placeholder="Ex: 500.00">
                    </div>
                </div>
                <!-- NOVO: Exibi√ß√£o da previs√£o do sal√°rio ap√≥s investimento -->
                <div class="input-group previsao-salario">
                    <label>Sal√°rio Previsto:</label>
                    <div id="invest-predicted" class="previsao-container"></div>
                </div>
                
                <button type="submit" class="btn-salvar">Salvar Configura√ß√£o</button>
            </form>
        </div>
    </div>

    <!-- Aqui entram os 3 cards fixos no rodap√© -->
    <footer class="footer-cards">
        <div class="footer-card">
            <span class="card-title">Total Entradas</span>
            <span id="footer-entradas" class="card-value">R$ 0,00</span>
        </div>
        <div class="footer-card">
            <span class="card-title">Total Sa√≠das</span>
            <span id="footer-saidas" class="card-value">R$ 0,00</span>
        </div>
        <div class="footer-card">
            <span class="card-title">Performance</span>
            <span id="footer-performance" class="card-value">R$ 0,00</span>
        </div>
        <div class="footer-card">
            <span class="card-title">Gasto Di√°rio Dispon√≠vel</span>
            <span id="footer-diario" class="card-value">R$ 0,00</span>
        </div>
        <div class="footer-card">
            <span class="card-title">Investimento</span>
            <span id="footer-investimento" class="card-value">R$ 0,00</span>
        </div>
    </footer>
    

    <div id="backdrop" class="backdrop"></div>
    <script type="module" src="script.js"></script>
</body>
</html>
